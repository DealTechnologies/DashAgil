<section class="content">
  <div class="container-fluid">
    <div class="block-header">
      <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
          <ul class="breadcrumb breadcrumb-style ">
            <li class="breadcrumb-item">
              <h4 class="page-title">Visão Geral</h4>
            </li>
            <li class="breadcrumb-item bcrumb-1">
              <a routerLink="/dashboard/main">
                <i class="fas fa-home"></i> Dashboard</a>
            </li>
            <li class="breadcrumb-item active">Visão Geral </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="widgets col-xl-2 col-lg-2 col-md-12 col-sm-12">
        <mat-form-field appearance="fill" class="dropdown-icon">
          <mat-select [formControl]="provider">
            <mat-option *ngFor="let provider of providers" [value]="provider.id">
              {{provider.descricao}}
            </mat-option>
          </mat-select>
          <span matPrefix>
            <mat-icon class="m-r-10" [svgIcon]="getIcon(provider.value)"></mat-icon>
          </span>
        </mat-form-field>

        <mat-form-field appearance="fill" class="dropdown-icon client">
          <mat-select [formControl]="client">
            <mat-option *ngFor="let client of clients" [value]="client.id">
              {{client.nome}}
            </mat-option>
          </mat-select>
          <span matPrefix>
            <mat-icon class="m-r-10">account_circle</mat-icon>
          </span>
        </mat-form-field>

        <div class="counter-box text-center">
          <div class="text font-15 m-b-5">Demandas Total</div>
          <h3 class="m-b-10">{{overview.totalGeralEstorias}}</h3>
        </div>
        <div class="counter-box text-center">
          <div class="text font-15 m-b-5">Em Backlog</div>
          <h3 class="m-b-10">{{overview.listaEstoriasPorEstagio.Remanescente}}</h3>
        </div>
        <div class="counter-box text-center">
          <div class="text font-15 m-b-5">Em Desenvolvimento </div>
          <h3 class="m-b-10">{{overview.listaEstoriasPorEstagio.EmAndamento}}</h3>
        </div>
        <div class="counter-box text-center">
          <div class="text font-15 m-b-5">Desenv. concluído </div>
          <h3 class="m-b-10">{{overview.listaEstoriasPorEstagio.DesenvolvimentoConcluido}}</h3>
        </div>
        <div class="counter-box text-center">
          <div class="text font-15 m-b-5">Em Homologação </div>
          <h3 class="m-b-10">{{overview.listaEstoriasPorEstagio.Homologacao}}</h3>
        </div>
        <div class="counter-box text-center">
          <div class="text font-15 m-b-5">Homologado </div>
          <h3 class="m-b-10">{{overview.listaEstoriasPorEstagio.Homologado}}</h3>
        </div>
        <div class="counter-box text-center">
          <div class="text font-15 m-b-5">Concluídas no Período </div>
          <h3 class="m-b-10">{{overview.listaEstoriasPorEstagio.Concluido}}</h3>
        </div>
      </div>

      <div class="col-xl-10 col-lg-10 col-md-12 col-sm-12">
        <div class="row">
          <div class="col-xl-8 col-lg-8 col-md-12 col-sm-12">
            <div class="card">
              <div class="header">
                <h2>Demandas X Squad</h2>
              </div>
              <div class="body">
                <div class="chart-squad" echarts (chartClick)="onChartEvent($event, 'chartClick')"
                  [options]="optionsDemandsVsSquad"></div>
              </div>
            </div>
          </div>
          <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12">
            <div class="card">
              <div class="header">
                <h2>Demandas em execução</h2>
              </div>
              <div class="body">
                <div class="chart-execution" echarts [options]="optionsInExecution"></div>
              </div>
            </div>

            <div class="card">
              <div class="header">
                <h2>Destaques</h2>
              </div>
              <div class="body m-l-10">
                <div class="sl-item sl-primary">
                  <div class="sl-content">
                    <span class="h5">Squad Terror By Night </span>
                    <p>Apresentação e Entrega Sprint 2</p>
                  </div>
                </div>
                <div class="sl-item sl-primary">
                  <div class="sl-content">
                    <span class="h5">Squad 1 </span>
                    <p>Primeira parte do PIX entrou em produção 03/11</p>
                  </div>
                </div>
                <div class="sl-item sl-primary">
                  <div class="sl-content">
                    <span class="h5">Squad 2 </span>
                    <p>Homologação em andamento</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
            <div class="card evolution">
              <div class="header">
                <h2>Evolução</h2>
              </div>
              <div class="body">
                <div class="table-responsive">
                  <table class="table table-hover table-xl mb-0">
                    <thead>
                      <tr>
                        <th class="border-top-0" width="150px">Squad</th>
                        <th class="border-top-0">Anterior</th>
                        <th class="border-top-0">Atual</th>
                        <th class="border-top-0">Evolução</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let item of overview.listaEvolucaoSquad">
                        <td class="text-truncate">{{item.squadNome}}</td>
                        <td class="text-right">{{item.evolucaoAnterior}}</td>
                        <td class="text-right">{{item.evolucaoAtual}}</td>
                        <td class="text-right">{{item.evolucao}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
